<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>KFC ‚Äî Single Page Order</title>
  <style>
    :root{
      --brand:#e4002b; /* KFC red */
      --ink:#111;
      --muted:#6b7280;
      --bg:#f8f9fb;
      --card:#ffffff;
      --ok:#16a34a;
      --warn:#ef4444;
      --ring:rgba(228,0,43,.25);
    }
    *{box-sizing:border-box}
    html,body{height:100%}
    body{margin:0;font:16px/1.4 system-ui, -apple-system, Segoe UI, Roboto, Ubuntu, Cantarell, Noto Sans, Helvetica, Arial; background:var(--bg); color:var(--ink);}    
    a{color:inherit}
    .container{max-width:1200px;margin-inline:auto;padding:24px}

    header{position:sticky;top:0;z-index:10;background:var(--card);border-bottom:1px solid #e5e7eb}
    .nav{display:flex;align-items:center;gap:16px;justify-content:space-between;padding:12px 24px}
    .brand{display:flex;align-items:center;gap:12px;font-weight:800;letter-spacing:.5px}
    .bucket{width:36px;height:36px;border-radius:10px;background:var(--brand);display:grid;place-items:center;color:#fff;font-weight:900}
    .actions{display:flex;gap:8px}
    .btn{appearance:none;border:none;background:var(--brand);color:#fff;padding:10px 14px;border-radius:12px;cursor:pointer;font-weight:700;box-shadow:0 6px 16px rgba(228,0,43,.25);transition:.2s transform, .2s filter}
    .btn.secondary{background:#111;color:#fff;box-shadow:0 6px 16px rgba(17,17,17,.15)}
    .btn.ghost{background:transparent;color:var(--ink);box-shadow:none;border:1px solid #e5e7eb}
    .btn:active{transform:translateY(1px)}
    .icon{width:20px;height:20px;display:inline-block;vertical-align:middle}

    .grid{display:grid;grid-template-columns:1.1fr .9fr;gap:24px}
    @media (max-width: 940px){.grid{grid-template-columns:1fr}}

    .card{background:var(--card);border:1px solid #e5e7eb;border-radius:16px;box-shadow:0 10px 24px rgba(0,0,0,.04)}
    .card h2{margin:0 0 12px 0}
    .card .content{padding:18px}

    .filters{display:flex;flex-wrap:wrap;gap:8px;margin:0 0 12px}
    .chip{padding:8px 12px;border:1px solid #e5e7eb;border-radius:999px;background:#fff;cursor:pointer}
    .chip.active{border-color:var(--brand);box-shadow:0 0 0 4px var(--ring)}

    .menu{display:grid;grid-template-columns:repeat(2, minmax(0,1fr));gap:12px}
    @media (max-width:640px){.menu{grid-template-columns:1fr}}
    .item{display:grid;grid-template-columns:72px 1fr auto;gap:12px;align-items:center;border:1px solid #eef0f3;border-radius:14px;padding:10px}
    .thumb{width:72px;height:72px;border-radius:12px;background:linear-gradient(135deg,#fff 0%, #ffe3e8 100%);display:grid;place-items:center;font-weight:800;color:var(--brand)}
    .meta small{color:var(--muted)}
    .price{font-weight:800}

    .cart-line{display:grid;grid-template-columns:1fr auto auto auto;gap:8px;align-items:center;padding:8px 0;border-bottom:1px dashed #e5e7eb}
    .qty{display:inline-flex;border:1px solid #e5e7eb;border-radius:10px;overflow:hidden}
    .qty button{border:0;background:#fff;padding:6px 10px;cursor:pointer}
    .qty input{width:40px;text-align:center;border:0;outline:0}
    .muted{color:var(--muted)}
    .totals{display:grid;gap:8px;margin-top:12px}
    .row{display:flex;justify-content:space-between}
    .divider{height:1px;background:#e5e7eb;margin:6px 0}

    .modal{position:fixed;inset:0;background:rgba(0,0,0,.45);display:none;place-items:center;padding:20px}
    .modal.open{display:grid}
    .sheet{background:#fff;max-width:520px;width:100%;border-radius:16px;box-shadow:0 20px 60px rgba(0,0,0,.2);overflow:hidden}
    .sheet header{position:static;border:0}

    .note{font-size:13px;color:var(--muted)}
    .field{display:grid;gap:6px;margin:10px 0}
    input[type="text"], input[type="tel"], textarea{width:100%;padding:10px 12px;border:1px solid #e5e7eb;border-radius:10px}
    textarea{min-height:80px}

    .empty{padding:16px;border:1px dashed #e5e7eb;border-radius:12px;text-align:center;color:var(--muted)}
  </style>
</head>
<body>
  <header>
    <div class="nav">
      <div class="brand"><div class="bucket">üçó</div> KFC Order</div>
      <div class="actions">
        <button class="btn ghost" id="resetBtn">Reset</button>
        <button class="btn" id="openCartBtn">
          <svg class="icon" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true"><path d="M7 4h-2l-1 2v2h2l3.6 7.59-1.35 2.44A2 2 0 0 0 10 20h8v-2h-7.42a.25.25 0 0 1-.22-.37L11.1 16h6.9a2 2 0 0 0 1.84-1.23l3.01-7.02A1 1 0 0 0 22 6h-15"/></svg>
          <span id="cartCount">0</span>
        </button>
      </div>
    </div>
  </header>

  <main class="container grid">
    <section class="card">
      <div class="content">
        <h2>Menu</h2>
        <div class="filters" id="filters"></div>
        <div class="menu" id="menu"></div>
      </div>
    </section>

    <aside class="card">
      <div class="content">
        <h2>Your Cart</h2>
        <div id="cartLines"></div>
        <div id="emptyCart" class="empty" style="display:none">Your cart is empty. Add something crispy! üçó</div>
        <div class="totals">
          <div class="row"><span>Subtotal</span><strong id="subtotal">‚Çπ0.00</strong></div>
          <div class="row"><span>GST (5%)</span><strong id="tax">‚Çπ0.00</strong></div>
          <div class="divider"></div>
          <div class="row"><span>Total</span><strong id="total">‚Çπ0.00</strong></div>
        </div>
        <div class="field">
          <label class="note"><input type="checkbox" id="cutlery" /> No Cutlery Needed</label>
        </div>
        <button class="btn secondary" id="placeOrderBtn" disabled>Place Order</button>
        <div class="note">Mock checkout ‚Äî generates an order ID and summary.</div>
      </div>
    </aside>
  </main>

  <!-- Modal: Place Order -->
  <div class="modal" id="orderModal" aria-hidden="true">
    <div class="sheet">
      <header>
        <div class="nav">
          <div class="brand"><div class="bucket">‚úÖ</div> Confirm your order</div>
          <button class="btn ghost" id="closeModal">Close</button>
        </div>
      </header>
      <div class="content">
        <form id="checkoutForm">
          <div class="field">
            <label>Name</label>
            <input type="text" id="custName" required placeholder="Colonel Sanders" />
          </div>
          <div class="field">
            <label>Phone</label>
            <input type="tel" id="custPhone" required pattern="[0-9]{10}" placeholder="9998887777" />
          </div>
          <div class="field">
            <label>Delivery Address</label>
            <textarea id="custAddr" required placeholder="Flat 101, Chicken Street, Pune"></textarea>
          </div>
          <div class="field">
            <label>Order Notes <span class="note">(optional)</span></label>
            <input type="text" id="custNotes" placeholder="Extra napkins, please." />
          </div>
          <div class="divider"></div>
          <div class="row"><span>Payable</span><strong id="payableInline">‚Çπ0.00</strong></div>
          <div class="row"><span>Payment</span>
            <select id="paymentMethod">
              <option>Cash on Delivery</option>
              <option>UPI</option>
              <option>Card</option>
            </select>
          </div>
          <div style="height:8px"></div>
          <button class="btn" type="submit">Confirm & Place Order</button>
        </form>
      </div>
    </div>
  </div>

  <div class="modal" id="placedModal" aria-hidden="true">
    <div class="sheet">
      <header>
        <div class="nav">
          <div class="brand"><div class="bucket">üéâ</div> Order Placed</div>
        </div>
      </header>
      <div class="content" id="placedContent"></div>
    </div>
  </div>

  <script>
    const CATEGORIES = ["Burgers", "Chicken", "Sides", "Drinks", "Desserts"];
    const MENU = [
      { id:"zb1", title:"Zinger Burger", price:149, cat:"Burgers", badge:"Best Seller" },
      { id:"cb2", title:"Chicken Burger", price:129, cat:"Burgers" },
      { id:"twr", title:"Twister Wrap", price:179, cat:"Burgers" },
      { id:"pf1", title:"Peri Peri 5pc", price:299, cat:"Chicken", badge:"Spicy" },
      { id:"hc2", title:"Hot & Crispy 2pc", price:229, cat:"Chicken" },
      { id:"pcp", title:"Popcorn Chicken", price:159, cat:"Chicken" },
      { id:"ffr", title:"French Fries", price:99, cat:"Sides" },
      { id:"slw", title:"Coleslaw", price:79, cat:"Sides" },
      { id:"bsc", title:"Buttered Corn", price:89, cat:"Sides" },
      { id:"cok", title:"Coke 475ml", price:69, cat:"Drinks" },
      { id:"spl", title:"Sprite 475ml", price:69, cat:"Drinks" },
      { id:"wtr", title:"Bottled Water", price:30, cat:"Drinks" },
      { id:"icb", title:"Ice Cream Bowl", price:89, cat:"Desserts" },
      { id:"brn", title:"Brownie", price:129, cat:"Desserts" },
    ];

    const GST_PERCENT = 5;

    const $ = (q,root=document)=>root.querySelector(q);
    const $$ = (q,root=document)=>Array.from(root.querySelectorAll(q));

    const state = {
      filter:"All",
      cart: JSON.parse(localStorage.getItem("kfc_cart") || "[]"),
    };

    function saveCart(){
      localStorage.setItem("kfc_cart", JSON.stringify(state.cart));
    }

    function money(n){return `‚Çπ${n.toFixed(2)}`}
    function uid(){return Math.random().toString(36).slice(2,8).toUpperCase()}

    // Render category filters
    function renderFilters(){
      const wrap = $("#filters");
      wrap.innerHTML = "";
      const cats = ["All", ...CATEGORIES];
      cats.forEach(c => {
        const b = document.createElement("button");
        b.className = "chip" + (state.filter===c?" active":"");
        b.textContent = c;
        b.onclick = () => { state.filter = c; renderMenu(); renderFilters(); };
        wrap.appendChild(b);
      });
    }

    function renderMenu(){
      const wrap = $("#menu");
      wrap.innerHTML = "";
      MENU.filter(it => state.filter === "All" || it.cat === state.filter)
        .forEach(it => {
          const row = document.createElement("div");
          row.className = "item";
          row.innerHTML = `
            <div class="thumb">${it.title.split(' ').map(w=>w[0]).join('').slice(0,3)}</div>
            <div class="meta">
              <div style="display:flex;align-items:center;gap:8px;flex-wrap:wrap">
                <strong>${it.title}</strong>
                ${it.badge ? `<small class="chip" style="border-color:transparent;background:#ffe3e8">${it.badge}</small>`:""}
              </div>
              <small class="muted">${it.cat}</small>
            </div>
            <div style="text-align:right">
              <div class="price">${money(it.price)}</div>
              <button class="btn" style="padding:6px 10px;margin-top:6px" data-id="${it.id}">Add</button>
            </div>`;
          wrap.appendChild(row);
        });
      $$(".item .btn", wrap).forEach(btn => btn.addEventListener("click", () => addToCart(btn.dataset.id)));
    }

    function addToCart(id){
      const item = MENU.find(x=>x.id===id);
      const existing = state.cart.find(x=>x.id===id);
      if(existing){ existing.qty += 1; }
      else{
        state.cart.push({ id:item.id, title:item.title, price:item.price, qty:1, spice:"Normal", dip:"Tomato" });
      }
      saveCart();
      renderCart();
    }

    function removeFromCart(id){
      state.cart = state.cart.filter(x=>x.id!==id);
      saveCart();
      renderCart();
    }

    function updateQty(id, delta){
      const line = state.cart.find(x=>x.id===id);
      if(!line) return;
      line.qty += delta;
      if(line.qty <= 0){ return removeFromCart(id); }
      saveCart();
      renderCart();
    }

    function updateOption(id, key, val){
      const line = state.cart.find(x=>x.id===id);
      if(!line) return;
      line[key] = val;
      saveCart();
    }

    function cartTotals(){
      const subtotal = state.cart.reduce((s,x)=>s + x.price * x.qty, 0);
      const tax = subtotal * (GST_PERCENT/100);
      const total = subtotal + tax;
      return {subtotal, tax, total};
    }

    function renderCart(){
      const lines = $("#cartLines");
      const empty = $("#emptyCart");
      lines.innerHTML = "";

      if(state.cart.length===0){
        empty.style.display = "block";
        $("#placeOrderBtn").disabled = true;
      } else {
        empty.style.display = "none";
        $("#placeOrderBtn").disabled = false;
      }

      state.cart.forEach(x=>{
        const row = document.createElement("div");
        row.className = "cart-line";
        row.innerHTML = `
          <div>
            <strong>${x.title}</strong>
            <div class="note">Spice: 
              <select data-id="${x.id}" data-key="spice">
                ${["Mild","Normal","Hot"].map(v=>`<option ${v===x.spice?"selected":""}>${v}</option>`).join("")}
              </select>
              &nbsp;‚Ä¢ Dip: 
              <select data-id="${x.id}" data-key="dip">
                ${["Tomato","Mayo","Cheese"].map(v=>`<option ${v===x.dip?"selected":""}>${v}</option>`).join("")}
              </select>
            </div>
          </div>
          <div class="muted">${money(x.price)}</div>
          <div class="qty">
            <button aria-label="decrease" data-id="${x.id}" data-delta="-1">‚àí</button>
            <input value="${x.qty}" readonly aria-label="quantity" />
            <button aria-label="increase" data-id="${x.id}" data-delta="1">Ôºã</button>
          </div>
          <button class="btn ghost" data-remove="${x.id}">Remove</button>
        `;
        lines.appendChild(row);
      });

      // qty handlers
      $$(".qty button", lines).forEach(b=>b.addEventListener("click",()=>updateQty(b.dataset.id, Number(b.dataset.delta))));
      // remove handlers
      $$("[data-remove]", lines).forEach(b=>b.addEventListener("click",()=>removeFromCart(b.dataset.remove)));
      // select handlers
      $$("select", lines).forEach(s=>s.addEventListener("change",()=>updateOption(s.dataset.id, s.dataset.key, s.value)));

      const {subtotal, tax, total} = cartTotals();
      $("#subtotal").textContent = money(subtotal);
      $("#tax").textContent = money(tax);
      $("#total").textContent = money(total);
      $("#payableInline").textContent = money(total);
      $("#cartCount").textContent = state.cart.reduce((s,x)=>s+x.qty, 0);
    }

    function openModal(id){ $(id).classList.add("open"); $(id).setAttribute("aria-hidden","false"); }
    function closeModal(id){ $(id).classList.remove("open"); $(id).setAttribute("aria-hidden","true"); }

    // Place Order button
    $("#placeOrderBtn").addEventListener("click", ()=> openModal("#orderModal"));
    $("#openCartBtn").addEventListener("click", ()=> window.scrollTo({top:document.body.scrollHeight, behavior:"smooth"}));
    $("#closeModal").addEventListener("click", ()=> closeModal("#orderModal"));
    $("#resetBtn").addEventListener("click", ()=>{ state.cart = []; saveCart(); renderCart(); });

    // Submit checkout
    $("#checkoutForm").addEventListener("submit", (e)=>{
      e.preventDefault();
      const { total } = cartTotals();
      const orderId = "KFC-" + uid();
      const when = new Date().toLocaleString();
      const details = state.cart.map(x=>`${x.qty} √ó ${x.title} (Spice: ${x.spice}, Dip: ${x.dip})`).join("<br>");
      const content = `
        <div>
          <p><strong>Order ID:</strong> ${orderId}</p>
          <p class="note">${when}</p>
          <div class="divider"></div>
          <p><strong>Items</strong><br>${details || "‚Äî"}</p>
          <p><strong>To:</strong> ${$("#custName").value}, ${$("#custPhone").value}<br>${$("#custAddr").value}</p>
          ${$("#custNotes").value ? `<p><strong>Notes:</strong> ${$("#custNotes").value}</p>`:""}
          <div class="row"><span>Total Paid</span><strong>${money(total)}</strong></div>
          <p class="note">Payment: ${$("#paymentMethod").value} ‚Ä¢ ${$("#cutlery").checked?"No cutlery":"Cutlery included"}</p>
          <div style="height:8px"></div>
          <button class="btn" id="doneBtn">Done</button>
        </div>`;

      $("#placedContent").innerHTML = content;
      closeModal("#orderModal");
      openModal("#placedModal");

      state.cart = [];
      saveCart();
      renderCart();

      $("#doneBtn").addEventListener("click", ()=> closeModal("#placedModal"));
    });

    renderFilters();
    renderMenu();
    renderCart();
  </script>
</body>
</html>
